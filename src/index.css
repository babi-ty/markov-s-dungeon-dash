@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 240 20% 8%;
    --foreground: 45 20% 95%;

    --card: 240 15% 12%;
    --card-foreground: 45 20% 95%;

    --popover: 240 15% 12%;
    --popover-foreground: 45 20% 95%;

    --primary: 45 90% 55%;
    --primary-foreground: 240 20% 8%;

    --secondary: 240 15% 18%;
    --secondary-foreground: 45 20% 95%;

    --muted: 240 12% 20%;
    --muted-foreground: 240 10% 60%;

    --accent: 160 70% 45%;
    --accent-foreground: 240 20% 8%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 45 20% 95%;

    --border: 240 15% 25%;
    --input: 240 15% 20%;
    --ring: 45 90% 55%;

    --radius: 0.75rem;

    /* Game-specific colors */
    --forest: 140 60% 40%;
    --forest-glow: 140 70% 50%;
    --castle: 45 90% 55%;
    --castle-glow: 45 100% 65%;
    --dungeon: 0 70% 45%;
    --dungeon-glow: 0 80% 55%;

    /* Gradients */
    --gradient-forest: linear-gradient(135deg, hsl(140 60% 35%), hsl(160 50% 25%));
    --gradient-castle: linear-gradient(135deg, hsl(45 90% 50%), hsl(35 80% 40%));
    --gradient-dungeon: linear-gradient(135deg, hsl(0 70% 40%), hsl(350 60% 25%));
    --gradient-dark: linear-gradient(180deg, hsl(240 20% 10%), hsl(240 25% 5%));

    /* Shadows */
    --shadow-forest: 0 0 30px hsl(140 70% 50% / 0.4);
    --shadow-castle: 0 0 30px hsl(45 100% 65% / 0.4);
    --shadow-dungeon: 0 0 30px hsl(0 80% 55% / 0.4);
  }

  .dark {
    --background: 240 20% 8%;
    --foreground: 45 20% 95%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', sans-serif;
    background: var(--gradient-dark);
    min-height: 100vh;
  }

  .font-pixel {
    font-family: 'Press Start 2P', cursive;
  }
}

@layer components {
  .location-card {
    @apply relative overflow-hidden rounded-xl p-6 transition-all duration-500;
  }

  .location-forest {
    background: var(--gradient-forest);
    box-shadow: var(--shadow-forest);
  }

  .location-castle {
    background: var(--gradient-castle);
    box-shadow: var(--shadow-castle);
  }

  .location-dungeon {
    background: var(--gradient-dungeon);
    box-shadow: var(--shadow-dungeon);
  }

  .location-inactive {
    @apply opacity-40 scale-95;
    box-shadow: none;
  }

  .location-active {
    @apply scale-105;
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .btn-game {
    @apply font-pixel text-xs px-6 py-4 rounded-lg transition-all duration-300;
    @apply hover:scale-105 hover:-translate-y-1;
    @apply active:scale-95;
  }

  .btn-primary-game {
    @apply btn-game bg-primary text-primary-foreground;
    box-shadow: 0 4px 0 hsl(35 80% 35%), 0 6px 20px hsl(45 90% 55% / 0.3);
  }

  .btn-primary-game:hover {
    box-shadow: 0 6px 0 hsl(35 80% 35%), 0 10px 30px hsl(45 90% 55% / 0.4);
  }

  .btn-primary-game:active {
    box-shadow: 0 2px 0 hsl(35 80% 35%), 0 4px 15px hsl(45 90% 55% / 0.3);
    transform: translateY(2px) scale(0.98);
  }

  .dice-roll {
    animation: dice-shake 0.5s ease-in-out;
  }

  .step-log {
    @apply bg-secondary/50 backdrop-blur-sm rounded-lg p-4 border border-border;
  }

  .matrix-cell {
    @apply p-3 text-center font-mono text-sm rounded-md transition-all duration-300;
  }

  .matrix-cell:hover {
    @apply scale-110 z-10;
  }

  .chart-bar {
    @apply transition-all duration-700 ease-out rounded-t-lg;
  }
}

@layer utilities {
  @keyframes pulse-glow {
    0%, 100% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(1.2);
    }
  }

  @keyframes dice-shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-15deg) scale(1.1); }
    50% { transform: rotate(15deg) scale(1.2); }
    75% { transform: rotate(-10deg) scale(1.1); }
  }

  @keyframes slide-in {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes celebrate {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.1) rotate(-5deg); }
    50% { transform: scale(1.2) rotate(5deg); }
    75% { transform: scale(1.1) rotate(-3deg); }
  }

  .animate-slide-in {
    animation: slide-in 0.4s ease-out forwards;
  }

  .animate-celebrate {
    animation: celebrate 0.6s ease-in-out;
  }

  .text-glow-forest {
    text-shadow: 0 0 20px hsl(var(--forest-glow));
  }

  .text-glow-castle {
    text-shadow: 0 0 20px hsl(var(--castle-glow));
  }

  .text-glow-dungeon {
    text-shadow: 0 0 20px hsl(var(--dungeon-glow));
  }
}
